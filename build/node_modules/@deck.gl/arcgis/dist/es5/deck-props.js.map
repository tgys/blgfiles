{"version":3,"sources":["../../src/deck-props.js"],"names":["properties","layers","layerFilter","parameters","effects","pickingRadius","onBeforeRender","onAfterRender","onClick","onHover","onDragStart","onDrag","onDragEnd","onError","debug","drawPickingColors","loadDeckProps","Accessor","DeckProps","createSubclass","constructor","_callbacks","watch","Object","keys","newValue","oldValue","propName","emit","on","eventName","cb","push","details","callbacks","toJSON","result","key","undefined"],"mappings":";;;;;;;;;;;AAAA,IAAMA,UAAU,GAAG;AACjBC,EAAAA,MAAM,EAAE,EADS;AAEjBC,EAAAA,WAAW,EAAE,EAFI;AAGjBC,EAAAA,UAAU,EAAE,EAHK;AAIjBC,EAAAA,OAAO,EAAE,EAJQ;AAKjBC,EAAAA,aAAa,EAAE,EALE;AAMjBC,EAAAA,cAAc,EAAE,EANC;AAOjBC,EAAAA,aAAa,EAAE,EAPE;AAQjBC,EAAAA,OAAO,EAAE,EARQ;AASjBC,EAAAA,OAAO,EAAE,EATQ;AAUjBC,EAAAA,WAAW,EAAE,EAVI;AAWjBC,EAAAA,MAAM,EAAE,EAXS;AAYjBC,EAAAA,SAAS,EAAE,EAZM;AAajBC,EAAAA,OAAO,EAAE,EAbQ;AAcjBC,EAAAA,KAAK,EAAE,EAdU;AAejBC,EAAAA,iBAAiB,EAAE;AAfF,CAAnB;;AAmBe,SAASC,aAAT,CAAuBC,QAAvB,EAAiC;AAC9C,MAAMC,SAAS,GAAGD,QAAQ,CAACE,cAAT,CAAwB;AACxCnB,IAAAA,UAAU,EAAVA,UADwC;AAGxCoB,IAAAA,WAHwC,yBAG1B;AAAA;;AACZ,WAAKC,UAAL,GAAkB,EAAlB;AAEA,WAAKC,KAAL,CAAWC,MAAM,CAACC,IAAP,CAAYxB,UAAZ,CAAX,EAAoC,UAACyB,QAAD,EAAWC,QAAX,EAAqBC,QAArB,EAAkC;AACpE,QAAA,KAAI,CAACC,IAAL,CAAU,QAAV,uCAAsBD,QAAtB,EAAiCF,QAAjC;AACD,OAFD;AAGD,KATuC;AAWxCI,IAAAA,EAXwC,cAWrCC,SAXqC,EAW1BC,EAX0B,EAWtB;AAChB,WAAKV,UAAL,CAAgBS,SAAhB,IAA6B,KAAKT,UAAL,CAAgBS,SAAhB,KAA8B,EAA3D;;AACA,WAAKT,UAAL,CAAgBS,SAAhB,EAA2BE,IAA3B,CAAgCD,EAAhC;AACD,KAduC;AAgBxCH,IAAAA,IAhBwC,gBAgBnCE,SAhBmC,EAgBxBG,OAhBwB,EAgBf;AACvB,UAAMC,SAAS,GAAG,KAAKb,UAAL,CAAgBS,SAAhB,CAAlB;;AACA,UAAII,SAAJ,EAAe;AAAA;AAAA;AAAA;;AAAA;AACb,+BAAiBA,SAAjB,8HAA4B;AAAA,gBAAjBH,EAAiB;AAC1BA,YAAAA,EAAE,CAACE,OAAD,CAAF;AACD;AAHY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAId;AACF,KAvBuC;AAyBxCE,IAAAA,MAzBwC,oBAyB/B;AACP,UAAMC,MAAM,GAAG,EAAf;;AACA,WAAK,IAAMC,GAAX,IAAkB,KAAKrC,UAAvB,EAAmC;AACjC,YAAI,KAAKqC,GAAL,MAAcC,SAAlB,EAA6B;AAC3BF,UAAAA,MAAM,CAACC,GAAD,CAAN,GAAc,KAAKA,GAAL,CAAd;AACD;AACF;;AACD,aAAOD,MAAP;AACD;AAjCuC,GAAxB,CAAlB;AAoCA,SAAOlB,SAAP;AACD","sourcesContent":["const properties = {\n  layers: {},\n  layerFilter: {},\n  parameters: {},\n  effects: {},\n  pickingRadius: {},\n  onBeforeRender: {},\n  onAfterRender: {},\n  onClick: {},\n  onHover: {},\n  onDragStart: {},\n  onDrag: {},\n  onDragEnd: {},\n  onError: {},\n  debug: {},\n  drawPickingColors: {}\n};\n\n/* eslint-disable callback-return */\nexport default function loadDeckProps(Accessor) {\n  const DeckProps = Accessor.createSubclass({\n    properties,\n\n    constructor() {\n      this._callbacks = {};\n\n      this.watch(Object.keys(properties), (newValue, oldValue, propName) => {\n        this.emit('change', {[propName]: newValue});\n      });\n    },\n\n    on(eventName, cb) {\n      this._callbacks[eventName] = this._callbacks[eventName] || [];\n      this._callbacks[eventName].push(cb);\n    },\n\n    emit(eventName, details) {\n      const callbacks = this._callbacks[eventName];\n      if (callbacks) {\n        for (const cb of callbacks) {\n          cb(details);\n        }\n      }\n    },\n\n    toJSON() {\n      const result = {};\n      for (const key in this.properties) {\n        if (this[key] !== undefined) {\n          result[key] = this[key];\n        }\n      }\n      return result;\n    }\n  });\n\n  return DeckProps;\n}\n"],"file":"deck-props.js"}